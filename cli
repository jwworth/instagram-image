require 'thor'

class MyCLI < Thor
  option :source, required: true
  option :title, required: true

  desc 'generate', 'Generate an image for Instagram!'
  def generate
    puts "Source: #{options[:source]}"
    puts "Title: \"#{options[:title]}\""

    print "Generating image... "
    `./image-convert.sh #{options[:source]} "#{options[:title]}"`
    puts "done (tmp/ready-for-instagram.jpg)"
  end
end

MyCLI.start(ARGV)
